<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference xml:lang="en-us" id="{{definition['x-dita-path']}}">
    <title>{{definition.summary}}</title>
    <shortdesc>To {{definition.summary.lower()}} use <codeph>{{method.upper()}}
        {{path}}</codeph>.</shortdesc>
    <refbody>
        <section>
            <title>Description</title>
            <p>{{definition.description}}</p>
        </section>
        <section>
            <title>HTTP method and URI</title>
            <codeblock>{{method.upper()}} {{path}}</codeblock>
        </section>
        {% if required_parameters %}
        <section><title>Required Parameters</title>
            <table>
                <tgroup cols="4">
                    <colspec colname="col1" colwidth="1.5*"/>
                    <colspec colname="col2" colwidth="3.5*"/>
                    <colspec colname="col3" colwidth="1*"/>
                    <colspec colname="col4" colwidth="1.5*"/>
                    <thead>
                        <row>
                            <entry>Name</entry>
                            <entry>Description</entry>
                            <entry>Location</entry>
                            <entry>Type</entry>
                        </row>
                    </thead>
                    <tbody>
                    {% for parameter in required_parameters %}
                        <row>
                            <entry><p><codeph>{{ parameter.name }}</codeph></p></entry>
                            <entry><p>{{ parameter.description }}</p>
                            {% if parameter.minimum is defined and parameter.maximum is defined %}
                            <p>Must be between {{ parameter.minimum }} and {{ parameter.maximum }}.</p>
                            {% endif %}
                            </entry>
                            <entry><p>{{ parameter.in }}</p></entry>
                            <entry>
                            {% if parameter.enum %}
                            <p>Possible values are:<ul>
                            {% for value in parameter.enum %}
                            <li><codeph>{{value}}</codeph></li>
                            {% endfor %}</ul></p>
                            {% else %}
                            <p>{{ parameter.type }}</p>
                            {% endif %}
                            </entry>
                        </row>
                    {% endfor %}
                    </tbody>
                </tgroup>
            </table></section>
            {% endif %}
            {% if optional_parameters %}
            <section><title>Optional Parameters</title>
            <table>
                <tgroup cols="4">
                    <colspec colname="col1" colwidth="1.5*"/>
                    <colspec colname="col2" colwidth="3.5*"/>
                    <colspec colname="col3" colwidth="1*"/>
                    <colspec colname="col4" colwidth="1.5*"/>
                    <thead>
                        <row>
                            <entry>Name</entry>
                            <entry>Description</entry>
                            <entry>Location</entry>
                            <entry>Type</entry>
                        </row>
                    </thead>
                    <tbody>
                    
                    {% for parameter in optional_parameters %}
                        <row>
                            <entry><p><codeph>{{ parameter.name }}</codeph></p></entry>
                            <entry><p>{{ parameter.description }}</p>
                            {% if parameter.minimum is defined and parameter.maximum is defined %}
                            <p>Must be between {{ parameter.minimum }} and {{ parameter.maximum }}.</p>
                            {% endif %}
                            </entry>
                            <entry><p>{{ parameter.in }}</p></entry>
                            <entry>
                            {% if parameter.enum %}
                            <p>Possible values are:<ul>
                            {% for value in parameter.enum %}
                            <li><codeph>{{value}}</codeph></li>
                            {% endfor %}</ul></p>
                            {% else %}
                            <p>{{ parameter.type }}</p>
                            {% endif %}
                            </entry>
                        </row>
                    {% endfor %}
                    </tbody>
                </tgroup>
            </table></section>
            {% endif %}
            <section><title>Response Codes</title>
            <table>
            <tgroup cols="2">
                    <colspec colname="col1" colwidth="1*"/>
                    <colspec colname="col2" colwidth="4*"/>
            <thead>
                        <row>
                            <entry>Response Code</entry>
                            <entry>Description</entry>
                        </row>
                    </thead>
                    <tbody>
                    
                    {% for response_code, response_info in definition.responses.items() | sort %}
                        <row>
                            <entry>{{response_code}}</entry>
                            <entry>{{response_info.description}}</entry>
                        </row>
                    {% endfor %}
                    </tbody>
            </tgroup>
            </table>
            </section>
    </refbody>
</reference>