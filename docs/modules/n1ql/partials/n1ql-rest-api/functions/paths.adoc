
// This file is created automatically by Swagger2Markup.
// DO NOT EDIT!


[[_paths]]
== Paths

**{toc-title}**

* <<_get_collection>>
* <<_get_library>>
* <<_post_library>>
* <<_delete_library>>


[[_get_collection]]
=== Read All Libraries
....
GET /evaluator/v1/libraries/
....


==== Description
Returns all libraries and functions.


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|An object with multiple properties, each giving information about a single library.|<<_libraries,Libraries>>
|**404**|Not found.
The path may be missing its trailing slash.|No Content
|**406**|Not acceptable.
The path may not conform to the schema.|string
|===


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**basic**|**<<_default,Default>>**
|===


==== Example HTTP request

====
Request {counter:example}: Fetch all defined libraries.

.Curl request
[source,shell]
----
curl -X GET \
http://localhost:8093/evaluator/v1/libraries/ \
-u Administrator:password
----
====


==== Example HTTP response

====

.Response 200
[source,json]
----
{
  "math": "function add(a, b) { return a + b; } function mul(a, b) { return a * b; }",
  "science": "function f2c(f) { return (5/9)*(f-32); }"
}
----
====


[[_get_library]]
=== Read a Library
....
GET /evaluator/v1/libraries/{library}
....


==== Description
Returns a library with all its functions.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**library** +
__required__|The name of a library.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|An object with a single property, giving information about the specified library.|<<_libraries,Libraries>>
|**404**|Not found.
The library name in the path may be incorrect.|string
|**406**|Not acceptable.
The path may not conform to the schema.|string
|===


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**basic**|**<<_default,Default>>**
|===


==== Example HTTP request

====
Request {counter:example}: Get all functions in the library `math`.

.Curl request
[source,shell]
----
curl -X GET \
http://localhost:8093/evaluator/v1/libraries/math \
-u Administrator:password
----
====


==== Example HTTP response

====

.Response 200
[source,json]
----
{
  "math": "function add(a, b) { return a + b; } function mul(a, b) { return a * b; }"
}
----
====


[[_post_library]]
=== Create or Update a Library
....
POST /evaluator/v1/libraries/{library}
....


==== Description
Creates the specified library and its associated functions.
If the specified library exists, the existing library is overwritten.


[NOTE]
====
* To add a function to a library, update the library with all existing functions, plus the new function.
* To update a function, update the library with all existing functions, including the updated function definition.
* To delete a function from a library, update the library with all existing functions, without the deleted function.
====


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**library** +
__required__|The name of a library.|string
|**Body**|**functions** +
__required__|The JavaScript code for all functions in the library.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The operation was successful.|string
|**400**|Bad request.
The body of the request may be incorrect.|string
|**406**|Not acceptable.
The path may not conform to the schema.|string
|===


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**basic**|**<<_default,Default>>**
|===


==== Example HTTP request

====
Request {counter:example}: Create or update a library called `math`.
The library contains two functions, `add` and `sub`.

.Curl request
[source,shell]
----
curl -X POST \
http://localhost:8093/evaluator/v1/libraries/math \
-u Administrator:password \
-H 'content-type: application/json' \
-d 'function add(a, b) { let data = a + b; return data; }
    function sub(a, b) { let data = a - b; return data; }'
----
====

====
Request {counter:example}: Add a function called `mul` to the library, leaving the other functions unchanged.

.Curl request
[source,shell]
----
curl -X POST \
http://localhost:8093/evaluator/v1/libraries/math \
-u Administrator:password \
-H 'content-type: application/json' \
-d 'function add(a, b) { let data = a + b; return data; }
    function sub(a, b) { let data = a - b; return data; }
    function mul(a, b) { let data = a * b; return data; }'
----
====

====
Request {counter:example}: Edit the function called `sub` to use a helper function called `helper`, leaving the other functions unchanged.

.Curl request
[source,shell]
----
curl -X POST \
http://localhost:8093/evaluator/v1/libraries/math \
-u Administrator:password \
-H 'content-type: application/json' \
-d 'function add(a, b) { let data = a + b; return data; }
    function mul(a, b) { let data = a * b; return data; }
    function sub(a, b) { return helper(a, b); }
    function helper(a, b) { return a - b; }'
----
====

====
Request {counter:example}: Remove the function called `sub` and the helper function called `helper`, leaving the other functions unchanged.

.Curl request
[source,shell]
----
curl -X POST \
http://localhost:8093/evaluator/v1/libraries/math \
-u Administrator:password \
-H 'content-type: application/json' \
-d 'function add(a, b) { let data = a + b; return data; }
    function mul(a, b) { let data = a * b; return data; }'
----
====


[[_delete_library]]
=== Delete a Library
....
DELETE /evaluator/v1/libraries/{library}
....


==== Description
Deletes the specified library entirely.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|**Path**|**library** +
__required__|The name of a library.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|**200**|The operation was successful.|string
|**404**|Not found.
The library name in the path may be incorrect.|string
|**406**|Not acceptable.
The path may not conform to the schema.|string
|===


==== Security

[options="header", cols=".^3a,.^4a"]
|===
|Type|Name
|**basic**|**<<_default,Default>>**
|===


==== Example HTTP request

====
Request {counter:example}: Delete the `math` library entirely.

.Curl request
[source,shell]
----
curl -X DELETE \
http://localhost:8093/evaluator/v1/libraries/math \
-u Administrator:password
----
====



